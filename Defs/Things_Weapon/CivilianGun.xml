<?xml version="1.0" encoding="utf-8"?>
<Defs>

  <ThingDef Name="DMS_BaseMakeableGun" ParentName="BaseGun" Abstract="True">
    <recipeMaker>
      <workSpeedStat>GeneralLaborSpeed</workSpeedStat>
      <workSkill>Crafting</workSkill>
      <effectWorking>Smith</effectWorking>
      <soundWorking>Recipe_Smith</soundWorking>
      <recipeUsers>
        <li>DMS_TableMachinePrinter</li>
      </recipeUsers>
      <unfinishedThingDef>UnfinishedGun</unfinishedThingDef>
    </recipeMaker>
  </ThingDef>

	<ThingDef ParentName="DMS_BaseMakeableGun">
		<defName>DMS_KnuckledusterRevolver</defName>
		<label>knuckleduster Revolver</label>
		<description>Minature self-defense weapon commonly found on midworlds, barely takes up any space when folded. Accepts multiple calibers and may also used as a knuckle in a pinch.</description>
		<weaponClasses>
			<li>RangedLight</li>
			<li>ShortShots</li>
		</weaponClasses>
		<weaponTags>
			<li>SimpleGun</li>
			<li>Revolver</li>
			<li>DMS_IndustrialGun</li>
		</weaponTags>
		<graphicData>
			<texPath>Things/Weapons/HumanWeapon/KnuckledusterRevolver</texPath>
			<graphicClass>Graphic_Single</graphicClass>
			<drawSize>(0.7,0.7)</drawSize>
		</graphicData>
		<soundInteract>Interact_Revolver</soundInteract>		
		<statBases>
			<Mass>0.5</Mass>
			<AccuracyTouch>0.95</AccuracyTouch>
			<AccuracyShort>0.65</AccuracyShort>
			<AccuracyMedium>0.35</AccuracyMedium>
			<AccuracyLong>0.15</AccuracyLong>
			<RangedWeapon_Cooldown>1.5</RangedWeapon_Cooldown>
			<WorkToMake>2000</WorkToMake>
		</statBases>
		<recipeMaker>
		    <researchPrerequisites>
      			<li>Gunsmithing</li>
				<li>DMS_EquipmentBasis</li>
    		</researchPrerequisites>
		</recipeMaker>	
		<costList>
			<Steel>15</Steel>
			<ComponentIndustrial>1</ComponentIndustrial>
		</costList>

		<verbs>
			<li>
				<verbClass>Verb_Shoot</verbClass>
				<hasStandardCommand>true</hasStandardCommand>
				<defaultProjectile>Bullet_Revolver</defaultProjectile>
				<warmupTime>0.3</warmupTime>
				<range>10.9</range>
				<soundCast>Shot_Revolver</soundCast>
				<soundCastTail>GunTail_Light</soundCastTail>
				<muzzleFlashScale>6</muzzleFlashScale>
			</li>
		</verbs>
		<tools>
		  <li>
			<label>grip</label>
			<capacities>
			  <li>Blunt</li>
			</capacities>
			<power>9</power>
			<cooldownTime>1</cooldownTime>
		  </li>
		  <li>
			<label>barrel</label>
			<capacities>
			  <li>Blunt</li>
			  <li>Poke</li>
			</capacities>
			<power>9</power>
			<cooldownTime>1</cooldownTime>
		  </li>
		</tools>
	</ThingDef>

	<ThingDef ParentName="DMS_BaseMakeableGun">
		<defName>DMS_MassProduct_Pistiol</defName>
		<label>Defensive pistol</label>
		<description>Small caliber firearm used by non-combatants. While it lacks in armor penetration, it is made up with being able to fire the first shot faster than your enemy.</description>
		<weaponClasses>
			<li>RangedLight</li>
			<li>ShortShots</li>
		</weaponClasses>
		<weaponTags>
			<li>SimpleGun</li>
			<li>DMS_IndustrialGun</li>
		</weaponTags>
		
		<graphicData>
			<texPath>Things/Weapons/HumanWeapon/MassProduct_Pistiol</texPath>
			<graphicClass>Graphic_Single</graphicClass>
			<drawSize>(0.8,0.8)</drawSize>
		</graphicData>
		<soundInteract>Interact_Autopistol</soundInteract>
		<statBases>
			<Mass>1.35</Mass>
			<AccuracyTouch>0.80</AccuracyTouch>
			<AccuracyShort>0.70</AccuracyShort>
			<AccuracyMedium>0.40</AccuracyMedium>
			<AccuracyLong>0.30</AccuracyLong>
			<WorkToMake>5000</WorkToMake>
			<RangedWeapon_Cooldown>1</RangedWeapon_Cooldown>
		</statBases>
		<costList>
			<Steel>20</Steel>
			<ComponentIndustrial>3</ComponentIndustrial>
			<WoodLog>5</WoodLog>
		</costList>
		<verbs>
			<li>
				<verbClass>Verb_Shoot</verbClass>
				<hasStandardCommand>true</hasStandardCommand>
				<defaultProjectile>Bullet_Autopistol</defaultProjectile>
				<warmupTime>0.3</warmupTime>
				<range>25.9</range>
				<soundCast>Shot_Autopistol</soundCast>
				<soundCastTail>GunTail_Light</soundCastTail>
				<muzzleFlashScale>9</muzzleFlashScale>
			</li>
		</verbs>
		<recipeMaker>
		    <researchPrerequisites>
      			<li>BlowbackOperation</li>
      			<li>DMS_EquipmentAdvanced</li>
    		</researchPrerequisites>
		</recipeMaker>
		<tools>
			<li>
				<label>grip</label>
				<capacities>
				  <li>Blunt</li>
				</capacities>
				<power>9</power>
				<cooldownTime>2</cooldownTime>
			</li>
			<li>
				<label>barrel</label>
				<capacities>
				  <li>Blunt</li>
				  <li>Poke</li>
				</capacities>
				<power>9</power>
				<cooldownTime>2</cooldownTime>
			</li>
		</tools>
	</ThingDef>

	<ThingDef ParentName="DMS_BaseMakeableGun">
		<defName>DMS_MassProduct_SMG</defName>
		<label>Defensive SMG</label>
		<description>A mass produced submachinegun nicknamed by many as "Sweeper". With simple and robust design, it is often issued to secondary security personnels for fire suppression.</description>
		<weaponClasses>
			<li>RangedLight</li>
			<li>ShortShots</li>
		</weaponClasses>
		<weaponTags>
		  <li>DMS_IndustrialGun</li>
		</weaponTags>
		
		<graphicData>
			<texPath>Things/Weapons/HumanWeapon/MassProduct_SMG</texPath>
			<graphicClass>Graphic_Single</graphicClass>
			<drawSize>(1.3,1.3)</drawSize>
		</graphicData>
		<soundInteract>Interact_Rifle</soundInteract>
		
		<statBases>
			<Mass>2.80</Mass>
			<RangedWeapon_Cooldown>0.37</RangedWeapon_Cooldown>
			<AccuracyTouch>0.55</AccuracyTouch>
			<AccuracyShort>0.85</AccuracyShort>
			<AccuracyMedium>0.6</AccuracyMedium>
			<AccuracyLong>0.5</AccuracyLong>
			<WorkToMake>18500</WorkToMake>
		</statBases>
		<recipeMaker>
		    <researchPrerequisites>
      			<li>BlowbackOperation</li>			
      			<li>DMS_EquipmentAdvanced</li>
    		</researchPrerequisites>
		</recipeMaker>
		<costList>
			<Steel>45</Steel>
			<ComponentIndustrial>5</ComponentIndustrial>
			<WoodLog>15</WoodLog>
		</costList>

		<verbs>
			<li>
				<verbClass>Verb_Shoot</verbClass>
				<hasStandardCommand>true</hasStandardCommand>
				<defaultProjectile>Bullet_MachinePistol</defaultProjectile>
				<warmupTime>0.5</warmupTime>
				<range>19.9</range>
				<burstShotCount>3</burstShotCount>
				<ticksBetweenBurstShots>7</ticksBetweenBurstShots>
				<soundCast>Shot_MachinePistol</soundCast>
				<soundCastTail>GunTail_Light</soundCastTail>
				<muzzleFlashScale>9</muzzleFlashScale>
			</li>
		</verbs>
		<tools>
			<li>
				<label>grip</label>
				<capacities>
				  <li>Blunt</li>
				</capacities>
				<power>9</power>
				<cooldownTime>2</cooldownTime>
			</li>
			<li>
				<label>barrel</label>
				<capacities>
				  <li>Blunt</li>
				  <li>Poke</li>
				</capacities>
				<power>9</power>
				<cooldownTime>2</cooldownTime>
			</li>
		</tools>
	</ThingDef>

	<ThingDef ParentName="DMS_BaseMakeableGun">
		<defName>DMS_MiniMachineGun</defName>
		<label>Defensive LMG</label>
		<description>Pistol caliber machinegun designed for colony defense. Chops down unarmored enemy hords and prisoner riots with ease.</description>
		<graphicData>
			<texPath>Things/Weapons/DMS_MiniMachineGun</texPath>
			<graphicClass>Graphic_Single</graphicClass>
			<drawSize>(1.3,1.3)</drawSize>
		</graphicData>
		<soundInteract>Interact_Rifle</soundInteract>	
		<statBases>
			<Mass>7.12</Mass>
			<RangedWeapon_Cooldown>1.56</RangedWeapon_Cooldown>
			<AccuracyTouch>0.40</AccuracyTouch>
			<AccuracyShort>0.48</AccuracyShort>
			<AccuracyMedium>0.35</AccuracyMedium>
			<AccuracyLong>0.26</AccuracyLong>
			<WorkToMake>28000</WorkToMake>
		</statBases>
		<costList>
			<Steel>85</Steel>
			<ComponentIndustrial>5</ComponentIndustrial>
		</costList>
		<weaponTags>
		  <li>DMS_IndustrialGun</li>
		</weaponTags>
		<verbs>
			<li>
				<verbClass>Verb_Shoot</verbClass>
				<hasStandardCommand>true</hasStandardCommand>
				<defaultProjectile>Bullet_Autopistol</defaultProjectile>
				<warmupTime>1.5</warmupTime>
				<range>30.9</range>
				<burstShotCount>15</burstShotCount>
				<ticksBetweenBurstShots>5</ticksBetweenBurstShots>
				<soundCast>Shot_MachinePistol</soundCast>
				<soundCastTail>GunTail_Light</soundCastTail>
				<muzzleFlashScale>9</muzzleFlashScale>
			</li>
		</verbs>
		<recipeMaker>
		    <researchPrerequisites>
      			<li>GasOperation</li>
      			<li>DMS_EquipmentAdvanced</li>
    		</researchPrerequisites>
		</recipeMaker>
		<tools>
			<li>
				<label>grip</label>
				<capacities>
				  <li>Blunt</li>
				</capacities>
				<power>9</power>
				<cooldownTime>2</cooldownTime>
			</li>
			<li>
				<label>barrel</label>
				<capacities>
				  <li>Blunt</li>
				  <li>Poke</li>
				</capacities>
				<power>9</power>
				<cooldownTime>2</cooldownTime>
			</li>
		</tools>
	</ThingDef>

	<ThingDef ParentName="DMS_BaseMakeableGun">
		<defName>DMS_SurvivalRifle</defName>
		<label>survival rifle</label>
		<description>Foldable rifle issued to war machine crew members. Accepts multiple common calibers.</description>
		<weaponClasses>
		  <li>LongShots</li>
		</weaponClasses>
		<weaponTags>
			<li>DMS_IndustrialGun</li>
		</weaponTags>
		
		<graphicData>
			<texPath>Things/Weapons/HumanWeapon/SurvivalRifle</texPath>
			<graphicClass>Graphic_Single</graphicClass>
			<drawSize>(1.3,1.3)</drawSize>
		</graphicData>
		<soundInteract>Interact_Rifle</soundInteract>	
		<statBases>
			<Mass>1.75</Mass>
			<RangedWeapon_Cooldown>1.17</RangedWeapon_Cooldown>
			<AccuracyTouch>0.65</AccuracyTouch>
			<AccuracyShort>0.80</AccuracyShort>
			<AccuracyMedium>0.90</AccuracyMedium>
			<AccuracyLong>0.80</AccuracyLong>
			<WorkToMake>9000</WorkToMake>
		</statBases>
		<equippedStatOffsets>
		  <HuntingStealth>0.5</HuntingStealth>
		</equippedStatOffsets>
		
		<recipeMaker>
		    <researchPrerequisites>
      			<li>Gunsmithing</li>
      			<li>DMS_EquipmentBasis</li>
    		</researchPrerequisites>
		</recipeMaker>
		<costList>
			<Steel>35</Steel>
			<ComponentIndustrial>1</ComponentIndustrial>
		</costList>

		<verbs>
			<li>
				<verbClass>Verb_Shoot</verbClass>
				<hasStandardCommand>true</hasStandardCommand>
				<defaultProjectile>Bullet_BoltActionRifle</defaultProjectile>
				<warmupTime>1.7</warmupTime>
				<range>30.9</range>
				<soundCast>Shot_BoltActionRifle</soundCast>
				<soundCastTail>GunTail_Heavy</soundCastTail>
				<muzzleFlashScale>9</muzzleFlashScale>
			</li>
		</verbs>

		<tools>
			<li>
				<label>grip</label>
				<capacities>
				  <li>Blunt</li>
				</capacities>
				<power>9</power>
				<cooldownTime>2</cooldownTime>
			</li>
			<li>
				<label>barrel</label>
				<capacities>
				  <li>Blunt</li>
				  <li>Poke</li>
				</capacities>
				<power>9</power>
				<cooldownTime>2</cooldownTime>
			</li>
		</tools>
	</ThingDef>

	<ThingDef ParentName="DMS_BaseMakeableGun">
		<defName>DMS_ElephantGun</defName>
		<label>elephant rifle</label>
		<description>Single-shot high caliber heavy hunting rifle. While made to hunt giant games or stop large hostile lifeform with sheer kinetic energy, it is also used by early industrial colonies against mechanoids thanks to its simple manufacture requirements.</description>
		<weaponClasses>
		  <li>RangedHeavy</li>
		  <li>LongShots</li>
		</weaponClasses>
		<weaponTags>
			<li>DMS_IndustrialGun</li>
		</weaponTags>
		
		<graphicData>
			<texPath>Things/Weapons/HumanWeapon/ElephantGun</texPath>
			<graphicClass>Graphic_Single</graphicClass>
			<drawSize>(1.5,1.5)</drawSize>
		</graphicData>
		<soundInteract>Interact_Rifle</soundInteract>
		<statBases>
			<WorkToMake>17700</WorkToMake>
			<Mass>10</Mass>
			<AccuracyTouch>0.45</AccuracyTouch>
			<AccuracyShort>0.55</AccuracyShort>
			<AccuracyMedium>0.85</AccuracyMedium>
			<AccuracyLong>0.90</AccuracyLong>
			<RangedWeapon_Cooldown>1.88</RangedWeapon_Cooldown>
		</statBases>
		<equippedStatOffsets>
		  <MoveSpeed>-0.15</MoveSpeed>
		</equippedStatOffsets>
		
		<recipeMaker>
		    <researchPrerequisites>
      			<li>BlowbackOperation</li>
      			<li>DMS_EquipmentBasis</li>
    		</researchPrerequisites>
		</recipeMaker>
		<costList>
			<Steel>135</Steel>
			<ComponentIndustrial>2</ComponentIndustrial>
			<WoodLog>35</WoodLog>
		</costList>
		
		<verbs>
			<li>
				<verbClass>Verb_Shoot</verbClass>
				<hasStandardCommand>true</hasStandardCommand>
				<defaultProjectile>Bullet_DMS_AMR</defaultProjectile>
				<warmupTime>3.5</warmupTime>
				<range>58</range>
				<soundCast>Shot_TurretSniper</soundCast>
				<soundCastTail>GunTail_Heavy</soundCastTail>
				<muzzleFlashScale>9</muzzleFlashScale>
			</li>
		</verbs>
		<tools>
		  <li>
			<label>grip</label>
			<capacities>
			  <li>Blunt</li>
			</capacities>
			<power>11</power>
			<cooldownTime>2.6</cooldownTime>
		  </li>
		  <li>
			<label>barrel</label>
			<capacities>
			  <li>Blunt</li>
			  <li>Poke</li>
			</capacities>
			<power>11</power>
			<cooldownTime>2.6</cooldownTime>
		  </li>
		</tools>		
	</ThingDef>
	
	<ThingDef ParentName="BaseBullet">
		<defName>Bullet_DMS_AMR</defName>
		<label>heavy rifle bullet</label>
		<graphicData>
		  <texPath>Things/Projectile/Bullet_Big</texPath>
		  <graphicClass>Graphic_Single</graphicClass>
		</graphicData>
		<projectile>
		  <damageDef>Bullet</damageDef>
		  <stoppingPower>4</stoppingPower>
		  <damageAmountBase>40</damageAmountBase>
		  <speed>100</speed>
		</projectile>
	</ThingDef>

	<ThingDef ParentName="DMS_BaseMakeableGun">
		<defName>DMS_MassProduct_GrenadeLauncher</defName>
		<label>firefoam launcher</label>
		<description>Single shot light grenade launcher meant to throw firefoam grenades. Totally capable of launching military grade grenades.</description>
		<weaponTags>
			<li>DMS_FireFoam</li>
		</weaponTags>
		
		<graphicData>
			<texPath>Things/Weapons/HumanWeapon/MassProduct_GrenadeLauncher</texPath>
			<graphicClass>Graphic_Single</graphicClass>
			<drawSize>(1.5,1.5)</drawSize>
		</graphicData>
		<soundInteract>Interact_Rifle</soundInteract>	
		<statBases>
			<WorkToMake>8400</WorkToMake>
			<Mass>1.40</Mass>
			<RangedWeapon_Cooldown>1.04</RangedWeapon_Cooldown>
		</statBases>
		<recipeMaker>
		    <researchPrerequisites>
      			<li>Gunsmithing</li>
				<li>Firefoam</li>
      			<li>DMS_EquipmentBasis</li>
    		</researchPrerequisites>
		</recipeMaker>
		<costList>
			<Steel>20</Steel>
			<ComponentIndustrial>1</ComponentIndustrial>
		</costList>
		
		<verbs>
			<li>
				<verbClass>Verb_Shoot</verbClass>
				<hasStandardCommand>true</hasStandardCommand>
				<defaultProjectile>Bullet_DMS_Firefoam</defaultProjectile>
				<warmupTime>3.5</warmupTime>
				<range>23.9</range>
				<forcedMissRadius>1.9</forcedMissRadius>
				<burstShotCount>1</burstShotCount>
				<soundCast>Shot_IncendiaryLauncher</soundCast>
				<soundCastTail>GunTail_Medium</soundCastTail>
				<muzzleFlashScale>14</muzzleFlashScale>
				<targetParams>
					<canTargetLocations>true</canTargetLocations>
				</targetParams>
			</li>
		</verbs>
		<tools>
		  <li>
			<label>grip</label>
			<capacities>
			  <li>Blunt</li>
			</capacities>
			<power>8</power>
			<cooldownTime>2.6</cooldownTime>
		  </li>
		  <li>
			<label>barrel</label>
			<capacities>
			  <li>Blunt</li>
			  <li>Poke</li>
			</capacities>
			<power>8</power>
			<cooldownTime>2.6</cooldownTime>
		  </li>
		</tools>
		
	</ThingDef>
	
	 <ThingDef ParentName="BaseBullet">
    <defName>Bullet_DMS_Firefoam</defName>
    <label>firefoam shell</label>
    <graphicData>
      <texPath>Things/Projectile/LauncherShot</texPath>
      <graphicClass>Graphic_Single</graphicClass>
      <shaderType>TransparentPostLight</shaderType>
      <color>(140,135,156)</color>
    </graphicData>
    <thingClass>Projectile_Explosive</thingClass>
    <projectile>
      <speed>40</speed>
      <damageDef>Extinguish</damageDef>
      <!-- Use default damage from explosion def -->
      <explosionRadius>2.4</explosionRadius>
      <postExplosionSpawnThingDef>Filth_FireFoam</postExplosionSpawnThingDef>
      <postExplosionSpawnChance>1</postExplosionSpawnChance>
      <postExplosionSpawnThingCount>1</postExplosionSpawnThingCount>
      <applyDamageToExplosionCellsNeighbors>true</applyDamageToExplosionCellsNeighbors>
      <ai_IsIncendiary>false</ai_IsIncendiary>
      <arcHeightFactor>0.2</arcHeightFactor>
      <shadowSize>0.6</shadowSize>
    </projectile>
  </ThingDef>
  
</Defs>